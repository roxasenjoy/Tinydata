<div [hidden]="canShowGraphicsUserContributionsComponent" class="graphicLoading">
    <mat-spinner></mat-spinner>
</div>

<div [hidden]="!canShowGraphicsUserContributionsComponent || zoom === 0" style="text-align: left;margin-left: 30px; margin-top: 30px;" >  
  <!-- Bouton qui permet de retourner à la granularité précédente -->
  <p class="previousFormationBtn transition" (click)="goBackGranularity()" [ngClass]="{
    'weightText': this.settingsStorageService.weightStorage === 'true',
  'nightShadow': this.settingsStorageService.nightStorage === 'true'}"> 
    <mat-icon matTooltip="Retour" class="arrowPreviousFormationBtn"
      [ngClass]="{
        'weightText': this.settingsStorageService.weightStorage === 'true',
      'nightTextWhite': this.settingsStorageService.nightStorage === 'true'}">
      arrow_back</mat-icon>
      <span [ngClass]="{
        'weightText': this.settingsStorageService.weightStorage === 'true',
      'nightTextWhite': this.settingsStorageService.nightStorage === 'true'}">Retour aux {{this.zoomName}}</span>
    </p>
</div>

<!-- Liste des granularités à droite du graphique -->
<div class="containerFormations" *ngIf="this.listNameGranularity[1]">
  <div class="stepsGranularities">
    <div class="formation">
      <div style="display:flex">
        <i class="fas fa-graduation-cap" style="margin:initial; width: 45px; color: var(--grey)"></i>

        <div class="title" style="margin-left: 20px;">
          {{this.listNameGranularity[1]}}
        </div>
      </div>
    
    </div>

    <div *ngIf="this.listNameGranularity[2]">
      <div class="domain">
        <div style="display:flex;">
          <div class="barGlobal">
            <div class="bar domainColor transition"></div>
            <div class="bar transition"></div>
            <div class="bar transition"></div>
            <div class="bar transition"></div>
          </div>
        </div>
      
        <div class="title" style="margin-left:15px">{{this.listNameGranularity[2]}}</div>
      </div>

      <div class="skill" *ngIf="this.listNameGranularity[3]">
        <div style="display:flex;">
          <div class="barGlobal">
            <div class="bar domainColor transition"></div>
            <div class="bar skillColor transition"></div>
            <div class="bar transition"></div>
            <div class="bar transition"></div>
          </div>
        </div>

        <div class="title" style="margin-left:15px">{{this.listNameGranularity[3]}}</div>
      </div>

      <div class="theme" *ngIf="this.listNameGranularity[4]">
        <div style="display:flex;">
          <div class="barGlobal">
            <div class="bar domainColor transition"></div>
            <div class="bar skillColor transition"></div>
            <div class="bar themeColor transition"></div>
            <div class="bar transition"></div>
          </div>
          <div class="title" style="margin-left:15px">{{this.listNameGranularity[4]}}</div>
        </div>
      </div>

      <div class="acquis" *ngIf="this.listNameGranularity[5]">
        <div style="display:flex;">
          <div class="barGlobal">
            <div class="bar domainColor transition"></div>
            <div class="bar skillColor transition"></div>
            <div class="bar themeColor transition"></div>
            <div class="bar acquisColor transition"></div>
          </div>
          <div class="title" style="margin-left:15px">{{this.listNameGranularity[5]}}</div>
        </div>
      </div>
    </div>
  </div>
</div>



<div class="containerGraphWithArrows">
  <div [hidden]="!canShowGraphicsUserContributionsComponent" class="graphic" id="userContributionComponent" style="max-width: initial !important; height: 350px; margin-top: 50px;"></div>
</div>

<div class="dataTable" *ngIf="canShowGraphicsUserContributionsComponent" style="margin-top: 50px; margin-bottom: 50px;">
  <h5 style="margin-left:15px; font-weight: bold;">Légende :</h5>
  <ul style="margin-left:50px; font-size: 14px">
    <li> Les valeurs représentent le nombre de contributions à l'amélioration de la formation sélectionnée</li>
  </ul>
</div>

<list-formation [nameFormationFilter]='nameFormationFilter'(idFormationFilter)="updateData($event)"></list-formation>



